"use strict";var x=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var R=Object.prototype.hasOwnProperty;var S=(o,s)=>{for(var e in s)x(o,e,{get:s[e],enumerable:!0})},B=(o,s,e,f)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of A(s))!R.call(o,a)&&a!==e&&x(o,a,{get:()=>s[a],enumerable:!(f=v(s,a))||f.enumerable});return o};var P=o=>B(x({},"__esModule",{value:!0}),o);var L={};S(L,{autoLoadingPlugin:()=>C});module.exports=P(L);function C(o={}){let{debug:s=!1}=o;return{name:"vite-plugin-loading",enforce:"pre",transform(e,f){try{if(!f.endsWith(".vue"))return e;s&&console.debug(`[vite-plugin-auto-loading] Processing ${f}`);let a=e.match(/loading\s*=\s*reactive\s*\(\s*{([^}]*)}\s*\)/),E=e.match(/loading\s*=\s*ref\s*\(\s*{([^}]*)}\s*\)/),h=a||E;if(!h)return e;let d=h[1].split(",").map(t=>t.trim()).filter(Boolean).map(t=>t.split(":")[0].trim());if(console.log(d,2222),d.length===0)return e;let $=(t,g)=>{let r=1,n=g,l=!1,u="";for(;n<t.length&&r>0;){let i=t[n];(i==='"'||i==="'")&&t[n-1]!=="\\"&&(l?i===u&&(l=!1):(l=!0,u=i)),l||(i==="{"&&r++,i==="}"&&r--),n++}return n},b=(t,g)=>{let r=t.match(/^\s+/),n=r?r[0]:"  ";return`
${n}loading.${g} = true;
${n}try {
${t}${n}} finally {
${n}  loading.${g} = false;
${n}}`},c=e,w=[{regex:t=>new RegExp(`const\\s+${t}\\s*=\\s*async\\s*\\([^)]*\\)\\s*=>\\s*{`,"g"),processMatch:(t,g)=>({start:t.index,bodyStart:t.index+t[0].length})},{regex:t=>new RegExp(`async\\s+function\\s+${t}\\s*\\([^)]*\\)\\s*{`,"g"),processMatch:(t,g)=>({start:t.index,bodyStart:t.index+t[0].length})},{regex:t=>new RegExp(`${t}:\\s*async\\s*\\([^)]*\\)\\s*=>\\s*{`,"g"),processMatch:(t,g)=>({start:t.index,bodyStart:t.index+t[0].length})}];return d.forEach(t=>{let g=r=>/\bawait\b/.test(r);w.forEach(r=>{let n=r.regex(t),l;for(;(l=n.exec(c))!==null;){let{start:u,bodyStart:i}=r.processMatch(l,t),p=$(c,i);if(p>i){let m=c.slice(u,i),y=c.slice(i,p-1);if(g(y)){let M=b(y,t);c=c.slice(0,u)+m+M+"}"+c.slice(p)}}}})}),c}catch(a){return console.error(`[vite-plugin-loading] Error processing ${f}:`,a),e}}}}0&&(module.exports={autoLoadingPlugin});
//# sourceMappingURL=index.js.map